(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return r});var a=function(){return navigator.serviceWorker.ready.then(function(){return new Promise(function(e,t){if(navigator.serviceWorker.controller){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?t(n.data.error):e(n.data)},navigator.serviceWorker.controller.postMessage({eventType:"getSelectedPeople"},[n.port2])}else t("Controller not ready")})})},o=function(e){return new Promise(function(t){navigator.serviceWorker.controller.postMessage({eventType:"personSelected",person:e}),t("Message Sent")})},r=function(e){return new Promise(function(t){navigator.serviceWorker.controller.postMessage({eventType:"personUnselected",person:e}),t("Message Sent")})}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var a=n(6),o=n(7),r=n(9),c=n(8),i=n(10),l=n(0),s=n.n(l),u=(n(32),n(1)),d=n(21),p=n(22),f=n(23),m=n(3),h=(n(19),function(t){function n(t){var o;return Object(a.a)(this,n),(o=Object(r.a)(this,Object(c.a)(n).call(this,t))).refreshPeople=function(){!0===(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&window.location.reload(!1),Object(f.a)().then(function(e){o.setState({people:e})}).catch(function(e){console.log(e),setTimeout(function(){o.refreshPeople(!0)},1e3)})},o.personSelected=function(e){Object(u.b)(e).then(function(t){var n=Object.assign({},o.state).people;n.find(function(t){return t.Id===e.Id}).selected=!0,o.setState({people:n})})},o.personUnselected=function(e){Object(u.c)(e).then(function(t){var n=Object.assign({},o.state).people;n.find(function(t){return t.Id===e.Id}).selected=!1,o.setState({people:n})})},o.sortPeople=function(t){if(!1===o.state.isSorting){o.setState({isSorting:!0});var n=!0!==o.state.sortedDescending;fetch("".concat(e.config.apiUrl,"/people?sortBy=").concat(t,"&sortDescending=").concat(n,"&skip=").concat(o.state.skip,"&take=").concat(o.state.take),{headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){Object(u.a)().then(function(a){o.setState(function(o){return{people:e.map(function(e){return e.selected=a.find(function(t){return t.Id===e.Id}),e}),sortedBy:t,sortedDescending:o.sortedBy===t&&n,isSorting:!1}})}).catch(function(e){console.log(e)})})}},o.pageForward=function(){var t=o.state.skip+10;fetch("".concat(e.config.apiUrl,"/people?sortBy=").concat(o.state.sortedBy,"&sortDescending=").concat(o.state.sortedDescending,"&skip=").concat(t,"&take=").concat(o.state.take),{headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){Object(u.a)().then(function(n){o.setState(function(a){return{people:e.map(function(e){return e.selected=n.find(function(t){return t.Id===e.Id}),e}),skip:t}})})})},o.pageBackward=function(){var t=0===o.state.skip?0:o.state.skip-10;fetch("".concat(e.config.apiUrl,"/people?sortBy=").concat(o.state.sortedBy,"&sortDescending=").concat(o.state.sortedDescending,"&skip=").concat(t,"&take=").concat(o.state.take),{headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){Object(u.a)().then(function(n){o.setState({people:e.map(function(e){return e.selected=n.find(function(t){return t.Id===e.Id}),e}),skip:t})})})},o.deletePerson=function(t){fetch("".concat(e.config.apiUrl,"/people/").concat(t),{method:"DELETE"}).then(function(e){console.log(e),o.refreshPeople()})},o.updatePerson=function(t){Object(m.toast)("Updating Person");var n=o.state.people.find(function(e){return e.Id===t});fetch("".concat(e.config.apiUrl,"/people/").concat(t),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(function(e){204===e.status&&Object(m.toast)("Person Updated")}).catch(function(e){console.log(e)})},o.onTableEdited=function(e,t){o.setState(function(n){var a=n.people,o=0,r=a.find(function(t,n){return o=n,t.Id===e.Id}),c=Object.assign({},r,t);return a[o]=c,Object.assign({},n)})},o.state={people:void 0,sortedBy:"name",sortedDescending:!1,skip:0,take:10,isSorting:!1},o}return Object(i.a)(n,t),Object(o.a)(n,[{key:"componentDidMount",value:function(){this.refreshPeople()}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("div",null,"Tech Test")),s.a.createElement("div",{disabled:!0,style:{display:"flex"}},s.a.createElement("div",null,s.a.createElement(d.a,{people:this.state.people,personSelected:this.personSelected,personUnselected:this.personUnselected,sortPeople:this.sortPeople,sortByEmail:this.sortByEmail,sortByName:this.sortByName,sortedBy:this.state.sortedBy,sortedDescending:this.state.sortedDescending,pageForward:this.pageForward,pageBackward:this.pageBackward,deletePerson:this.deletePerson,onTableEdited:this.onTableEdited,updatePerson:this.updatePerson})),s.a.createElement(p.a,{refreshPeople:this.refreshPeople})),s.a.createElement(m.ToastContainer,null))}}]),n}(l.Component));t.a=h}).call(this,n(5))},function(e,t,n){"use strict";var a=n(0),o=n.n(a);t.a=function(e){var t=e.people,n=e.personSelected,a=e.personUnselected,r=e.sortPeople,c=e.sortedBy,i=e.sortedDescending,l=e.pageForward,s=e.pageBackward,u=e.deletePerson,d=e.onTableEdited,p=e.updatePerson,f=!0===i?o.a.createElement("span",null,"\u2193"):o.a.createElement("span",null,"\u2191"),m="name"===c?o.a.createElement("span",null,"Name ",f):o.a.createElement("span",null,"Name"),h="email"===c?o.a.createElement("span",null,"Email ",f):o.a.createElement("span",null,"Email");return o.a.createElement("div",null,o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",{style:{cursor:"pointer",backgroundColor:"LightGray"},onClick:function(){r("name")}},m),o.a.createElement("th",null,"Age"),o.a.createElement("th",null,"Balance"),o.a.createElement("th",{style:{cursor:"pointer",backgroundColor:"LightGray"},onClick:function(){r("email")}},h),o.a.createElement("th",null,"Address")),void 0===t?null:t.map(function(e){return o.a.createElement("tr",{key:e.Id},o.a.createElement("td",null,o.a.createElement("input",{onChange:function(t){return d(e,{Name:t.target.value})},type:"text",defaultValue:e.Name})),o.a.createElement("td",null,o.a.createElement("input",{onChange:function(t){return d(e,{Age:t.target.value})},type:"number",defaultValue:e.Age})),o.a.createElement("td",null,o.a.createElement("input",{onChange:function(t){return d(e,{Balance:t.target.value})},type:"number",defaultValue:e.Balance})),o.a.createElement("td",null,o.a.createElement("input",{onChange:function(t){return d(e,{Email:t.target.value})},type:"text",defaultValue:e.Email})),o.a.createElement("td",null,o.a.createElement("input",{onChange:function(t){return d(e,{Address:t.target.value})},type:"text",defaultValue:e.Address})),o.a.createElement("td",null,e.selected?o.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){a(e)},role:"img","aria-label":"Minus sign"},"\u2796"):o.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){n(e)},role:"img","aria-label":"Plus sign"},"\u2795")),o.a.createElement("td",null,o.a.createElement("button",{style:{cursor:"pointer"},onClick:function(){return p(e.Id)}},"Update Person")),o.a.createElement("td",null,o.a.createElement("button",{style:{cursor:"pointer"},onClick:function(){return u(e.Id)}},"Delete Person")))}))),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:3}},o.a.createElement("button",{style:{cursor:"pointer"},onClick:s},"\u2190 Page Backward"),o.a.createElement("button",{style:{cursor:"pointer"},onClick:l},"Page Forward \u2192")))}},function(e,t,n){"use strict";(function(e){var a=n(6),o=n(7),r=n(9),c=n(8),i=n(10),l=n(0),s=n.n(l),u=n(3),d=(n(19),function(t){function n(t){var o;return Object(a.a)(this,n),(o=Object(r.a)(this,Object(c.a)(n).call(this,t))).createPerson=function(){Object(u.toast)("Creating Person"),fetch("".concat(e.config.apiUrl,"/people"),{method:"POST",body:JSON.stringify(o.state),headers:{"Content-Type":"application/json"}}).then(function(e){Object(u.toast)("Person Created"),console.log(e),o.refreshPeople()})},o.handleInput=function(e){o.setState(function(t){return Object.assign({},t,e)})},o.state={Name:"",Email:"",Address:"",Balance:0,Age:0},o.refreshPeople=t.refreshPeople,o}return Object(i.a)(n,t),Object(o.a)(n,[{key:"render",value:function(){var e=this,t={display:"flex",justifyContent:"space-between",marginTop:5};return s.a.createElement("div",{style:{marginTop:50,marginLeft:50}},s.a.createElement("span",null,"Person Creation Form"),s.a.createElement("div",null,s.a.createElement("label",{style:t},"Name:",s.a.createElement("input",{onChange:function(t){return e.handleInput({Name:t.target.value})},style:{marginLeft:5},type:"text",name:"name"})),s.a.createElement("label",{style:t},"Email:",s.a.createElement("input",{onChange:function(t){return e.handleInput({Email:t.target.value})},style:{marginLeft:5},type:"text",name:"email"})),s.a.createElement("label",{style:t},"Address:",s.a.createElement("input",{onChange:function(t){return e.handleInput({Address:t.target.value})},style:{marginLeft:5},type:"text",name:"address"})),s.a.createElement("label",{style:t},"Balance:",s.a.createElement("input",{onChange:function(t){return e.handleInput({Balance:t.target.value})},style:{marginLeft:5},type:"number",name:"balance"})),s.a.createElement("label",{style:t},"Age:",s.a.createElement("input",{onChange:function(t){return e.handleInput({Age:t.target.value})},style:t,type:"number",name:"age"})),s.a.createElement("input",{type:"submit",name:"name",onClick:this.createPerson})))}}]),n}(l.Component));t.a=d}).call(this,n(5))},function(e,t,n){"use strict";var a=n(1);t.a=function(){return navigator.serviceWorker.ready.then(function(){return fetch("https://tech-test.azurewebsites.net/people",{headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return Object(a.a)().then(function(t){return e.map(function(e){return e.selected=t.find(function(t){return t.Id===e.Id}),e})})})})}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker-custom.js");a?(!function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):r(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):r(t,e)})}}function r(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}},function(e,t,n){e.exports=n(26)},function(e,t,n){"use strict";n.r(t),function(e){var t=n(0),a=n.n(t),o=n(13),r=n.n(o),c=(n(31),n(20)),i=n(24);e.config={},fetch("config.json").then(function(e){return e.json()}).then(function(t){e.config=t,r.a.render(a.a.createElement(c.a,null),document.getElementById("root"))}).catch(function(e){console.log(e)}),i.a()}.call(this,n(5))},,,,,function(e,t,n){},function(e,t,n){}],[[25,1,2]]]);
//# sourceMappingURL=main.64f27541.chunk.js.map